
<html>
	<head>
	  <meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	   <title>Creazione del progetto</title>
	   <style type="text/css">
		@page { size: 21.59cm 27.94cm; margin-right: 2cm; margin-top: 2.5cm; margin-bottom: 1.5cm }
		p { margin-bottom: 0.21cm; direction: ltr; color: #000000; orphans: 0; widows: 0 }
		p.western { font-family: "Arial", "Times New Roman", serif; font-size: 10pt; so-language: it-IT }
		h3.western { font-family: "Liberation Sans", "Arial", sans-serif; so-language: it-IT }
		a:link { color: #0000ff }
		a.cjk:visited { so-language: zh-CN }
	</style>
	</head>	
	<body>
		<h3 class="western">Creazione del progetto</h3>
	<p class="western">Come prima cosa occorre sostituire il file ATHW119_4CVM.kad che si trova nella cartella di installazione:
	ATCMControl &#8594; Engineering &#8594; bin &#8594; ATHW119 con lo stesso file che si trova nell&rsquo;ultima versione della	MectSuite.</p>
	<p class="western">Per aprire un progetto con dei task precostituiti seguire le directory (<strong>MectSuite_xy &#8594; MectApps_xy &#8594;
	&ldquo;AnyTPAC&rdquo; &#8594; Empty_PLC</strong>) per aprire il file <strong>Emty_PLC.4cp</strong> con &ldquo;ATCM control&rdquo;.</p>
	<p class="western"><strong>ATTENZIONE:</strong> il programma per il PLC &ldquo;ATCMControl&rdquo; deve essere avviato come <strong>amministratore</strong> (tasto destro e &ldquo;Esegui
	come amministratore&rdquo;).</p>
	
	<p class="western">Il progetto caricato a questo punto deve essere rinominato in modo da non &ldquo;sporcarlo&rdquo; e poterlo  riutilizzare: </p>
	<ul>
		<li/>
<p class="western">Selezionare perci&ograve; dal menu <strong>File</strong> 
		</p>
		<li/>
<p class="western">Save Project 	As&hellip;</p>
		<li/>
<p class="western">Premere il tasto &ldquo;&hellip;&rdquo; nella finestra che appare</p>
		<li/>
<p class="western">Quindi selezionare la cartella nella quale si vuole inserire il progetto e premere OK</p>
		<li/>
<p class="western">A questo punto inserire il nome del progetto nella riga <strong>New Project Name</strong></p>
	</ul>
	<p class="western"><img src="Creazione_progetto_PLC_1.png" name="Immagine158" align="bottom" width="661" height="429" border="0"/></p>
	
	<p class="western">Una volta creato il progetto, importiamo le variabili della Crosstable nel PLC. Per far questo, dal progetto HMI apriamo il programma Crosstable Editor.</p>
	<ul>
		<li/>
<p class="western">Quindi premere il tasto Controlla</p>
		<li/>
<p class="western">Premere OK</p>
		<li/>
<p class="western">Alla finestra che appare: &ldquo;Salvare il file delle variabili PLC ?&rdquo; rispondere S&igrave;</p>
	</ul>
	<p class="western" ><img src="Creazione_progetto_PLC_2.png" name="Immagine159" align="bottom" width="626" height="411" border="0"/></p>
	<p class="western">A questo punto si apre la finestra per scegliere dove inserire il file delle variabili. 
	</p>
	<p class="western">Il file di variabili va inserito nella cartella di progetto PLC appena creato.</p>
	<p class="western">Ritorniamo all&rsquo;ambiente ATCMControl e vediamo che le variabili della
	Crosstable sono state importate nel progetto PLC.</p>
	<p class="western"><img src="Creazione_progetto_PLC_3.png" name="Immagine160" align="bottom" width="611" height="454" border="0"/></p>
	<ul>
		<li/>
<p class="western">Quindi selezionare il tag <strong>Class</strong></p>
		<li/>
<p class="western">Espandendo &ldquo;<strong>Configuration</strong>&rdquo; e	&ldquo;<strong>Resource1</strong>&rdquo; troviamo il file &ldquo;Crosstable.gvl&rdquo;
		e i vari Task. 
		</p>
	</ul>
	<p class="western"><img src="Creazione_progetto_PLC_4.png" name="Immagine161" align="bottom" width="268" height="348" border="0"/></p>
	
	<p class="western">Il file <strong>Crosstable.gvl</strong> &egrave; il file che contiene tutte le <strong>variabili globali</strong> che si possono utilizzare
	all&rsquo;interno dell&rsquo;ambiente PLC. Questo file deve essere utilizzato solamente in lettura per sapere i nomi delle variabili e
	non deve essere mai modificato. <strong>NOTA:</strong> Queste variabili sono quelle create nel &ldquo;Crosstable Editor&rdquo; ed &egrave; per questo
	motivo che ogni volta che inseriamo una variabile nuova nel	Crosstable Editor, dobbiamo premere il tasto &ldquo;Controlla&rdquo;
	e salvare le variabili nel PLC.</p>
	<p class="western">Ci sono 6  <strong>Task</strong> che hanno <strong>funzionalit&agrave;</strong> e tempi di ciclo differenti:</p>
	<ul>
		<ul>
			<li/>
<p class="western">Task0_Init: viene fatto girare solamente	all&rsquo;avvio del PLC e per questo motivo ha priorit&agrave;
			assoluta. Solitamente viene utilizzato per inizializzare le	variabili.</p>
			<li/>
<p class="western">Task1_Alarms: ha la priorit&agrave; su tutti gli altri task. Si avvia nel momento in cui si scatena
			l&rsquo;allarme e il programma inserito nel Task viene eseguito una sola volta. Il Task1_Alarms si riavvier&agrave; al verificarsi di ogni nuova condizione di allarme.</p>
			<li/>
<p class="western">Task2_Events: ha la priorit&agrave; su tutti gli altri task escluso il Task1_Alarms. Si avvia nel momento in cui si scatena
			l&rsquo;evento e il programma inserito nel Task viene eseguito una sola volta. Il Task2_Events si riavvier&agrave; al verificarsi di ogni nuova condizione di evento.</p>
			<li/>
<p class="western">Task3_Fast_10ms: questo task gira ogni 10ms.</p>
			<li/>
<p class="western">Task4_Normal_100ms: questo task gira ogni 100ms.</p>
			<li/>
<p class="western">Task5_Slow_1000ms: questo task gira ogni	1000ms</p>
		</ul>
	</ul>
	<p class="western"><strong>NOTA:</strong> &egrave; consigliabile utilizzare il <strong>Task4_Normal_100ms</strong> per la maggior parte dell&rsquo;applicazione. 
	</p>
	<p class="western">All&rsquo;interno di ogni Task si trova almeno un programma, ad esempio se si espande il Task5_Slow_1000ms si trova il
	programma Slow_Inst1 dove &egrave; possibile implementare, in questo caso nel linguaggio ST, parte della propria applicazione. In questo
	modo &egrave; possibile scrivere del codice all&rsquo;interno dei programmi presenti in ogni Task. 	</p>
	<br/>
	</body>
</html>