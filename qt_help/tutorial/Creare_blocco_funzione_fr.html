
<html>
	<head>
	  <meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	   <title>Créer un bloc function</title>
	   <style type="text/css">
		@page { size: 21.59cm 27.94cm; margin-right: 2cm; margin-top: 2.5cm; margin-bottom: 1.5cm }
		p { margin-bottom: 0.21cm; direction: ltr; color: #000000; orphans: 0; widows: 0 }
		p.western { font-family: "Arial", "Times New Roman", serif; font-size: 10pt; so-language: it-IT }
		h3.western { font-family: "Liberation Sans", "Arial", sans-serif; so-language: it-IT }
		a:link { color: #0000ff }
		a.cjk:visited { so-language: zh-CN }
	</style>
	</head>	
	<body>
		<h3 class="western">Créer un bloc function</h3>
	<p class="western" style="margin-bottom: 0cm">Procédez comme suit pour créer un bloc fonction, par exemple pour le langage 
	 <strong>Function Block Diagram (FBD)</strong>:</p>
	<ul>
		<li/>
<p class="western" >Sélectionnez Class</p>
		<li/>
<p class="western">Sélectionnez <strong>Function Blocks</strong> dans l'arborescence et appuyez sur le bouton droit de la 
		souris</p>
		<li/>
<p class="western">Sélectionnez et appuyez sur  <strong>Insert Function Block</strong></p>
		<li/>
<p class="western">Dans la fenêtre qui s'affiche, sélectionnez <strong>Function Block Diagram FB</strong></p>
		<li/>
<p class="western">Saisissez le nom que vous voulez donner au bloc fonction (par exemple:
		RegolazioneON_OFF)</p>
		<li/>
<p class="western" >appuyez sur <strong>OK</strong></p>
	</ul>
	<p class="western" ><img src="Creare_blocco_funzione_1.png" align="bottom" width="929" height="629" border="0"/></p>
	
	<p class="western">Le bloc fonction a donc été créé, en fait en étendant la branche <strong>Function Blocks</strong>
	de l'arborescence du projet, nous voyons la branche.</p>
	<p class="western">Pour entrer dans le bloc fonction, sélectionnez et double-cliquez sur le nom du bloc fonction. La fenêtre qui 
	apparaît se compose de deux zones:</p>
	<ul>
		<li/>
<p class="western" >Zona 1 pour la définition des variables</p>
		<li/>
<p class="western">Zona 2 pour le code</p>
	</ul>
	<p class="western"><img src="Creare_blocco_funzione_2.png" align="bottom" width="933" height="629" border="0"/></p>
	
	<p class="western">Dans un premier temps, faites voir au bloc fonction les variables définies
	dans Crosstable. Pour ce faire, positionnez-vous avec la souris dans la zone 1 (qui change de couleur de fond), immédiatement après le 
	nom du bloc fonction, et entrez l'écriture: <strong>#import &ldquo;Crosstable.gvl&rdquo;</strong> comme vous pouvez le voir dans la figure.</p>
	<p class="western"><img src="Creare_blocco_funzione_3.png" name="Immagine167" align="bottom" width="335" height="120" border="0"/>
</p>
	<p class="western">
        Les variables d'entrée et de sortie (s'il y en a, ajouter &ldquo;VAR_OUTPUT&rdquo; et &ldquo;END_VAR&rdquo;) 
         doivent être déclarées. Par exemple, voir l'image suivante:</p>
	<p class="western"><img src="Creare_blocco_funzione_4.png" name="Immagine168" align="bottom" width="243" height="208" border="0"/>
</p>
	<p class="western">Dans cet exemple, lorsque vous faites glisser le bloc fonction dans le programme, vous aurez 2 entrées 
	et 1 sortie.</p>
	<p class="western">Passez maintenant à la zone 2 pour entrer le code du programme.</p>
	<p class="western">Pour insérer des opérateurs, sélectionnez l'icône <strong>Insert Programming Unit</strong> où apparaîtra la fenêtre 
	dans laquelle vous pouvez choisir les opérateurs de librairie. En sélectionnant et en faisant glisser 
	l'opérateur nécessaire (par exemple l'opérateur ADD qui additionne deux variables), vous l'emmenez en zone 2.
	</p>
	<p class="western">Pour connecter les variables à l'opérateur, sélectionnez l'icône, à ce stade, il suffit
	d'effectuer les connexions comme dans un éditeur normal de schémas électriques. Pour l'insertion de variables, voir le 
	chapitre &ldquo;<font color="#0000ff"><u><a class="western" href="Inserire_variabili_PLC_fr.html">Insérer 
	des variables dans les programmes FBD &ndash; LD &ndash; SFC</a></u></font>&rdquo;.</p>
	
	<p class="western" style="margin-bottom: 0cm"><img src="Creare_blocco_funzione_5.png" name="Immagine169" align="bottom" width="710" height="495" border="0"/></p>
	
		<br/>
	</body>
</html>